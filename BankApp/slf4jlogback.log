2023-12-06T21:04:43.328+01:00  INFO 14564 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 14564 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T21:04:43.331+01:00  INFO 14564 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T21:04:43.930+01:00  INFO 14564 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T21:04:43.990+01:00  INFO 14564 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2023-12-06T21:04:44.544+01:00  INFO 14564 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T21:04:44.621+01:00  INFO 14564 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T21:04:44.623+01:00  INFO 14564 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T21:04:44.788+01:00  INFO 14564 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:04:44.892+01:00  INFO 14564 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T21:04:44.904+01:00  INFO 14564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T21:04:45.170+01:00  INFO 14564 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T21:04:45.171+01:00  INFO 14564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T21:04:45.361+01:00  INFO 14564 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:04:45.901+01:00  INFO 14564 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T21:04:45.904+01:00  INFO 14564 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:04:46.497+01:00  INFO 14564 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T21:04:47.683+01:00  WARN 14564 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T21:04:48.010+01:00  INFO 14564 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@276511ca, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62ee32c6, org.springframework.security.web.context.SecurityContextHolderFilter@1a2d8488, org.springframework.security.web.header.HeaderWriterFilter@745e1fb7, org.springframework.security.web.authentication.logout.LogoutFilter@2889d997, com.example.bankapp.security.Jwtfilter@51b1732d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17fd9fbb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a7b6556, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b1c4b48, org.springframework.security.web.session.SessionManagementFilter@730e663a, org.springframework.security.web.access.ExceptionTranslationFilter@816272a, org.springframework.security.web.access.intercept.AuthorizationFilter@5f7cc6fd]
2023-12-06T21:04:48.982+01:00  INFO 14564 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T21:04:48.982+01:00  INFO 14564 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T21:04:48.983+01:00  INFO 14564 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T21:04:49.011+01:00  INFO 14564 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 5.981 seconds (process running for 6.918)
2023-12-06T21:04:49.568+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T21:04:49.568+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T21:04:49.591+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=cec90723-4138-488b-a116-451febdd158f, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, clientId=c67bfe33-e779-4d0e-81a3-8e6f1870d601, productName=null, ownerFullName=Amisha Smith),[Location:"/cec90723-4138-488b-a116-451febdd158f"]>
END OF REQUEST
2023-12-06T21:04:49.654+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T21:04:49.655+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T21:04:49.678+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, clientId=c67bfe33-e779-4d0e-81a3-8e6f1870d601, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T21:04:49.690+01:00  INFO 14564 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:04:49.693+01:00  INFO 14564 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T21:04:49.720+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:04:49.720+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:04:49.726+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T21:04:49.737+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T21:04:49.737+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T21:04:49.754+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T21:04:49.757+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:04:49.757+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:04:49.759+01:00 ERROR 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T21:04:49.771+01:00  INFO 14564 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:04:49.774+01:00  INFO 14564 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T21:04:49.799+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T21:04:49.800+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T21:04:49.803+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T21:04:49.810+01:00  INFO 14564 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:04:49.813+01:00  INFO 14564 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T21:04:49.836+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:04:49.837+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:04:49.843+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, clientId=c67bfe33-e779-4d0e-81a3-8e6f1870d601, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:04:49.845+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:04:49.845+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:04:49.848+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, clientId=c67bfe33-e779-4d0e-81a3-8e6f1870d601, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:04:49.853+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T21:04:49.853+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T21:04:49.872+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=cea60bfa-3594-4b96-9eca-f81982f61f37, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T21:04:49.86066)
END OF REQUEST
2023-12-06T21:04:49.875+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:04:49.875+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:04:49.880+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, clientId=c67bfe33-e779-4d0e-81a3-8e6f1870d601, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:04:49.882+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:04:49.882+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:04:49.885+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, clientId=c67bfe33-e779-4d0e-81a3-8e6f1870d601, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:04:49.911+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T21:04:49.912+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T21:04:49.915+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T21:04:49.920+01:00  INFO 14564 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:04:49.922+01:00  INFO 14564 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T21:04:49.951+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T21:04:49.951+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T21:04:49.977+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODkzOTg5fQ.sVnDwgeKIqedQd7yglAJvHdyArq7bHuRlm1WLLMcgi8,[]>
END OF REQUEST
2023-12-06T21:04:49.992+01:00  INFO 14564 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:04:49.995+01:00  INFO 14564 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T21:04:50.016+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T21:04:50.016+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T21:04:50.025+01:00  INFO 14564 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5, status=SUSPENDED, sum=5000.00),[]>
END OF REQUEST
2023-12-06T21:04:50.033+01:00  INFO 14564 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:04:50.035+01:00  INFO 14564 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T21:04:50.037+01:00  INFO 14564 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T21:05:31.427+01:00  INFO 23992 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 23992 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T21:05:31.428+01:00  INFO 23992 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T21:05:31.954+01:00  INFO 23992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T21:05:32.017+01:00  INFO 23992 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2023-12-06T21:05:32.601+01:00  INFO 23992 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T21:05:32.657+01:00  INFO 23992 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T21:05:32.660+01:00  INFO 23992 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T21:05:32.795+01:00  INFO 23992 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:05:32.908+01:00  INFO 23992 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T21:05:32.921+01:00  INFO 23992 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T21:05:33.163+01:00  INFO 23992 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T21:05:33.164+01:00  INFO 23992 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T21:05:33.354+01:00  INFO 23992 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:05:33.923+01:00  INFO 23992 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T21:05:33.925+01:00  INFO 23992 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:05:34.513+01:00  INFO 23992 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T21:05:35.674+01:00  WARN 23992 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T21:05:35.868+01:00  INFO 23992 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bb3cbb4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fcc58f8, org.springframework.security.web.context.SecurityContextHolderFilter@7d9587b3, org.springframework.security.web.header.HeaderWriterFilter@414b785c, org.springframework.security.web.authentication.logout.LogoutFilter@54422189, com.example.bankapp.security.Jwtfilter@3e668743, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75f2a654, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5680228, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51f714d1, org.springframework.security.web.session.SessionManagementFilter@7a7b6556, org.springframework.security.web.access.ExceptionTranslationFilter@6f9c272b, org.springframework.security.web.access.intercept.AuthorizationFilter@51a7ee4e]
2023-12-06T21:05:36.711+01:00  INFO 23992 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T21:05:36.711+01:00  INFO 23992 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T21:05:36.712+01:00  INFO 23992 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T21:05:36.739+01:00  INFO 23992 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 5.592 seconds (process running for 6.432)
2023-12-06T21:05:37.270+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T21:05:37.271+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T21:05:37.320+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T21:05:37.320+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T21:05:37.345+01:00  INFO 23992 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:05:37.348+01:00  INFO 23992 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T21:05:37.370+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:05:37.370+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:05:37.377+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T21:05:37.399+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T21:05:37.400+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T21:05:37.425+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T21:05:37.428+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:05:37.428+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:05:37.430+01:00 ERROR 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T21:05:37.445+01:00  INFO 23992 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:05:37.448+01:00  INFO 23992 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T21:05:37.471+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T21:05:37.471+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T21:05:37.474+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T21:05:37.480+01:00  INFO 23992 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:05:37.482+01:00  INFO 23992 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T21:05:37.506+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:05:37.506+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:05:37.537+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T21:05:37.537+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T21:05:37.541+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T21:05:37.550+01:00  INFO 23992 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:05:37.552+01:00  INFO 23992 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T21:05:37.571+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T21:05:37.571+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T21:05:37.595+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk0MDM3fQ.fVGrtjFtv4Z9fSjYO4da6_ELssUDW0xswKfLXiB3eJU,[]>
END OF REQUEST
2023-12-06T21:05:37.610+01:00  INFO 23992 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:05:37.612+01:00  INFO 23992 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T21:05:37.633+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T21:05:37.633+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T21:05:37.652+01:00  INFO 23992 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5, status=SUSPENDED, sum=5000.00),[]>
END OF REQUEST
2023-12-06T21:05:37.671+01:00  INFO 23992 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:05:37.673+01:00  INFO 23992 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T21:05:37.675+01:00  INFO 23992 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T21:08:09.353+01:00  INFO 16628 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 16628 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T21:08:09.355+01:00  INFO 16628 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T21:08:10.242+01:00  INFO 16628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T21:08:10.319+01:00  INFO 16628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 5 JPA repository interfaces.
2023-12-06T21:08:11.122+01:00  INFO 16628 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T21:08:11.206+01:00  INFO 16628 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T21:08:11.210+01:00  INFO 16628 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T21:08:11.411+01:00  INFO 16628 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:08:11.593+01:00  INFO 16628 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T21:08:11.614+01:00  INFO 16628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T21:08:12.110+01:00  INFO 16628 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T21:08:12.112+01:00  INFO 16628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T21:08:12.406+01:00  INFO 16628 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:08:13.149+01:00  INFO 16628 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T21:08:13.151+01:00  INFO 16628 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:08:13.738+01:00  INFO 16628 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T21:08:14.995+01:00  WARN 16628 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T21:08:15.230+01:00  INFO 16628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3beeb771, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ec182d, org.springframework.security.web.context.SecurityContextHolderFilter@33b7016c, org.springframework.security.web.header.HeaderWriterFilter@5d9e150d, org.springframework.security.web.authentication.logout.LogoutFilter@1087867, com.example.bankapp.security.Jwtfilter@216af451, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36940885, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20e8611e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3db2d7d1, org.springframework.security.web.session.SessionManagementFilter@120d6db2, org.springframework.security.web.access.ExceptionTranslationFilter@60a0cb32, org.springframework.security.web.access.intercept.AuthorizationFilter@11d5c69f]
2023-12-06T21:08:16.129+01:00  INFO 16628 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T21:08:16.130+01:00  INFO 16628 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T21:08:16.130+01:00  INFO 16628 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-12-06T21:08:16.149+01:00  INFO 16628 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 7.234 seconds (process running for 8.675)
2023-12-06T21:08:16.862+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T21:08:16.863+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T21:08:16.889+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=efb9371b-6ea0-45e2-a34b-de6cc34b9535, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/efb9371b-6ea0-45e2-a34b-de6cc34b9535"]>
END OF REQUEST
2023-12-06T21:08:16.967+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T21:08:16.967+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T21:08:16.996+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T21:08:17.011+01:00  INFO 16628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:17.014+01:00  INFO 16628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T21:08:17.058+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T21:08:17.059+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T21:08:17.090+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5, status=SUSPENDED, sum=5000.00),[]>
END OF REQUEST
2023-12-06T21:08:17.100+01:00  INFO 16628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:17.103+01:00  INFO 16628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T21:08:17.134+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T21:08:17.135+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T21:08:17.177+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk0MTk3fQ.7ZxzNQMgRIiOeqzwJi53YOvnhVU2GAlK7YLb8GDAQx0,[]>
END OF REQUEST
2023-12-06T21:08:17.199+01:00  INFO 16628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:17.202+01:00  INFO 16628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T21:08:17.230+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T21:08:17.231+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T21:08:17.233+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T21:08:17.240+01:00  INFO 16628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:17.242+01:00  INFO 16628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T21:08:17.265+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:17.265+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:17.271+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:17.273+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:17.273+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:17.276+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:17.281+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T21:08:17.281+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T21:08:17.288+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=4adf7afd-cd9a-437b-9802-d08b13a1bdf7, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T21:08:17.2850826)
END OF REQUEST
2023-12-06T21:08:17.291+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:17.291+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:17.295+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:17.297+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:17.297+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:17.300+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:17.329+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T21:08:17.329+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T21:08:17.334+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T21:08:17.343+01:00  INFO 16628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:17.347+01:00  INFO 16628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T21:08:17.384+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:08:17.385+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:08:17.388+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T21:08:17.404+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T21:08:17.405+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T21:08:17.425+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T21:08:17.427+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:08:17.427+01:00  INFO 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:08:17.429+01:00 ERROR 16628 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T21:08:17.463+01:00  INFO 16628 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:08:17.585+01:00  INFO 16628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T21:08:17.586+01:00  INFO 16628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T21:08:25.309+01:00  INFO 17664 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 17664 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T21:08:25.310+01:00  INFO 17664 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T21:08:25.891+01:00  INFO 17664 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T21:08:25.961+01:00  INFO 17664 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2023-12-06T21:08:26.617+01:00  INFO 17664 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T21:08:26.692+01:00  INFO 17664 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T21:08:26.694+01:00  INFO 17664 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T21:08:26.877+01:00  INFO 17664 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:08:26.986+01:00  INFO 17664 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T21:08:27.000+01:00  INFO 17664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T21:08:27.237+01:00  INFO 17664 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T21:08:27.238+01:00  INFO 17664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T21:08:27.419+01:00  INFO 17664 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:08:27.931+01:00  INFO 17664 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T21:08:27.933+01:00  INFO 17664 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:08:28.504+01:00  INFO 17664 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T21:08:29.620+01:00  WARN 17664 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T21:08:29.815+01:00  INFO 17664 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3746766b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@467f97e, org.springframework.security.web.context.SecurityContextHolderFilter@2bac4423, org.springframework.security.web.header.HeaderWriterFilter@70a9f4b7, org.springframework.security.web.authentication.logout.LogoutFilter@3701acee, com.example.bankapp.security.Jwtfilter@6479b4cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@279e9c95, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5546a9e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@413773e6, org.springframework.security.web.session.SessionManagementFilter@6d7e2c53, org.springframework.security.web.access.ExceptionTranslationFilter@122557f8, org.springframework.security.web.access.intercept.AuthorizationFilter@2fad470b]
2023-12-06T21:08:30.683+01:00  INFO 17664 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T21:08:30.683+01:00  INFO 17664 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T21:08:30.684+01:00  INFO 17664 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T21:08:30.708+01:00  INFO 17664 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 5.686 seconds (process running for 6.687)
2023-12-06T21:08:31.212+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T21:08:31.212+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T21:08:31.230+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=c212b2c4-4acb-4167-a2cf-c6a73a448aa5, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/c212b2c4-4acb-4167-a2cf-c6a73a448aa5"]>
END OF REQUEST
2023-12-06T21:08:31.288+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T21:08:31.288+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T21:08:31.309+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T21:08:31.318+01:00  INFO 17664 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:31.321+01:00  INFO 17664 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T21:08:31.343+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:08:31.343+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:08:31.348+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T21:08:31.358+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T21:08:31.359+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T21:08:31.377+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T21:08:31.379+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:08:31.379+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:08:31.381+01:00 ERROR 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T21:08:31.392+01:00  INFO 17664 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:31.394+01:00  INFO 17664 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T21:08:31.417+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T21:08:31.418+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T21:08:31.420+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T21:08:31.427+01:00  INFO 17664 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:31.429+01:00  INFO 17664 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T21:08:31.448+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:31.448+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:31.452+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:31.454+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:31.454+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:31.456+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:31.460+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T21:08:31.461+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T21:08:31.475+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=f9d5c1e8-ef2b-40e1-81e7-c5408f82b921, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T21:08:31.4673461)
END OF REQUEST
2023-12-06T21:08:31.478+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:31.479+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:31.481+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:31.483+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:08:31.483+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:08:31.485+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:08:31.507+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T21:08:31.508+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T21:08:31.511+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T21:08:31.515+01:00  INFO 17664 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:31.517+01:00  INFO 17664 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T21:08:31.532+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T21:08:31.532+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T21:08:31.556+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk0MjExfQ.TyydEO3ycd18NczTIj_LSDV3egs_E09qT17NudYjd5M,[]>
END OF REQUEST
2023-12-06T21:08:31.569+01:00  INFO 17664 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:08:31.571+01:00  INFO 17664 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T21:08:31.587+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T21:08:31.588+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T21:08:31.596+01:00  INFO 17664 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5, status=SUSPENDED, sum=5000.00),[]>
END OF REQUEST
2023-12-06T21:08:31.603+01:00  INFO 17664 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:08:31.605+01:00  INFO 17664 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T21:08:31.607+01:00  INFO 17664 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T21:42:15.765+01:00  INFO 5948 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 5948 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T21:42:15.766+01:00  INFO 5948 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T21:42:16.353+01:00  INFO 5948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T21:42:16.414+01:00  INFO 5948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2023-12-06T21:42:16.985+01:00  INFO 5948 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T21:42:17.073+01:00  INFO 5948 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T21:42:17.076+01:00  INFO 5948 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T21:42:17.250+01:00  INFO 5948 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:42:17.348+01:00  INFO 5948 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T21:42:17.360+01:00  INFO 5948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T21:42:17.591+01:00  INFO 5948 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T21:42:17.592+01:00  INFO 5948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T21:42:17.783+01:00  INFO 5948 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:42:18.303+01:00  INFO 5948 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T21:42:18.305+01:00  INFO 5948 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:42:18.900+01:00  INFO 5948 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T21:42:20.000+01:00  WARN 5948 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T21:42:20.234+01:00  INFO 5948 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ec8c874, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a339bc1, org.springframework.security.web.context.SecurityContextHolderFilter@52364a6e, org.springframework.security.web.header.HeaderWriterFilter@783a2fec, org.springframework.security.web.authentication.logout.LogoutFilter@66008321, com.example.bankapp.security.Jwtfilter@5b1dd206, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72187492, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ba55a6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7906de2f, org.springframework.security.web.session.SessionManagementFilter@6e1bd2b, org.springframework.security.web.access.ExceptionTranslationFilter@635f4be1, org.springframework.security.web.access.intercept.AuthorizationFilter@3554de46]
2023-12-06T21:42:21.271+01:00  INFO 5948 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T21:42:21.271+01:00  INFO 5948 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T21:42:21.272+01:00  INFO 5948 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T21:42:21.302+01:00  INFO 5948 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 5.802 seconds (process running for 7.001)
2023-12-06T21:42:21.826+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T21:42:21.826+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T21:42:21.846+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=4b0174d5-d4fc-4bf7-ae4f-7abcd3e7ab6e, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/4b0174d5-d4fc-4bf7-ae4f-7abcd3e7ab6e"]>
END OF REQUEST
2023-12-06T21:42:21.908+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T21:42:21.909+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T21:42:21.928+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T21:42:21.938+01:00  INFO 5948 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:42:21.941+01:00  INFO 5948 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T21:42:21.963+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:42:21.964+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:42:21.969+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T21:42:21.980+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T21:42:21.981+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T21:42:21.997+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T21:42:21.999+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:42:22.000+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:42:22.001+01:00 ERROR 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T21:42:22.015+01:00  INFO 5948 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:42:22.017+01:00  INFO 5948 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T21:42:22.042+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T21:42:22.042+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T21:42:22.045+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T21:42:22.052+01:00  INFO 5948 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:42:22.054+01:00  INFO 5948 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T21:42:22.079+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:42:22.079+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:42:22.084+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:42:22.085+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:42:22.085+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:42:22.088+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:42:22.092+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T21:42:22.092+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T21:42:22.108+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=d4d852ce-5dab-472e-8cfe-d3955fb7f90f, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T21:42:22.0989562)
END OF REQUEST
2023-12-06T21:42:22.111+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:42:22.112+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:42:22.115+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:42:22.117+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:42:22.117+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:42:22.119+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:42:22.145+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T21:42:22.146+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T21:42:22.149+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T21:42:22.153+01:00  INFO 5948 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:42:22.155+01:00  INFO 5948 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T21:42:22.172+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T21:42:22.172+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T21:42:22.196+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk2MjQyfQ.IFSj3ohcTYdTqrtLh5YN-IPMwh9uJD4K22xspFNWisY,[]>
END OF REQUEST
2023-12-06T21:42:22.211+01:00  INFO 5948 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:42:22.213+01:00  INFO 5948 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T21:42:22.233+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T21:42:22.234+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T21:42:22.243+01:00  INFO 5948 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=5000.00),[]>
END OF REQUEST
2023-12-06T21:42:22.255+01:00  INFO 5948 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:42:22.256+01:00  INFO 5948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T21:42:22.257+01:00  INFO 5948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T21:43:25.274+01:00  INFO 13536 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 13536 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T21:43:25.275+01:00  INFO 13536 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T21:43:25.819+01:00  INFO 13536 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T21:43:25.882+01:00  INFO 13536 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2023-12-06T21:43:26.431+01:00  INFO 13536 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T21:43:26.499+01:00  INFO 13536 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T21:43:26.501+01:00  INFO 13536 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T21:43:26.634+01:00  INFO 13536 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:43:26.746+01:00  INFO 13536 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T21:43:26.757+01:00  INFO 13536 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T21:43:27.005+01:00  INFO 13536 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T21:43:27.006+01:00  INFO 13536 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T21:43:27.188+01:00  INFO 13536 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T21:43:27.668+01:00  INFO 13536 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T21:43:27.671+01:00  INFO 13536 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:43:28.245+01:00  INFO 13536 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T21:43:29.304+01:00  WARN 13536 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T21:43:29.517+01:00  INFO 13536 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71443983, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@105d2c27, org.springframework.security.web.context.SecurityContextHolderFilter@548d9d87, org.springframework.security.web.header.HeaderWriterFilter@6e863469, org.springframework.security.web.authentication.logout.LogoutFilter@70dbd79f, com.example.bankapp.security.Jwtfilter@6a9861de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fb79241, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@275860e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca46aaf, org.springframework.security.web.session.SessionManagementFilter@2f8ede54, org.springframework.security.web.access.ExceptionTranslationFilter@38379575, org.springframework.security.web.access.intercept.AuthorizationFilter@169f4152]
2023-12-06T21:43:30.391+01:00  INFO 13536 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T21:43:30.392+01:00  INFO 13536 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T21:43:30.393+01:00  INFO 13536 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-12-06T21:43:30.419+01:00  INFO 13536 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 5.416 seconds (process running for 6.264)
2023-12-06T21:43:30.952+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T21:43:30.953+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T21:43:30.972+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=2f0fd421-6b2c-4358-8258-fdfb64046996, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/2f0fd421-6b2c-4358-8258-fdfb64046996"]>
END OF REQUEST
2023-12-06T21:43:31.033+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T21:43:31.033+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T21:43:31.053+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T21:43:31.063+01:00  INFO 13536 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:43:31.067+01:00  INFO 13536 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T21:43:31.096+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:43:31.096+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:43:31.103+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T21:43:31.117+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T21:43:31.117+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T21:43:31.138+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T21:43:31.140+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T21:43:31.141+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T21:43:31.142+01:00 ERROR 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T21:43:31.156+01:00  INFO 13536 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:43:31.159+01:00  INFO 13536 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T21:43:31.184+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T21:43:31.185+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T21:43:31.188+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T21:43:31.195+01:00  INFO 13536 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:43:31.197+01:00  INFO 13536 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T21:43:31.217+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:43:31.218+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:43:31.223+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:43:31.225+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:43:31.225+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:43:31.228+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:43:31.233+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T21:43:31.233+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T21:43:31.250+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=8034a71b-e6b2-40b5-b7a1-7c7c6ad4e8a0, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T21:43:31.2418987)
END OF REQUEST
2023-12-06T21:43:31.253+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:43:31.254+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:43:31.258+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:43:31.261+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T21:43:31.261+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T21:43:31.265+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T21:43:31.292+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T21:43:31.292+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T21:43:31.296+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T21:43:31.301+01:00  INFO 13536 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:43:31.303+01:00  INFO 13536 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T21:43:31.321+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T21:43:31.322+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T21:43:31.349+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk2MzExfQ.1GQOhKl9MIx3chv6Xi9en7wJLzWtnUXy5ejI1mPnyi4,[]>
END OF REQUEST
2023-12-06T21:43:31.363+01:00  INFO 13536 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T21:43:31.364+01:00  INFO 13536 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T21:43:31.382+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T21:43:31.382+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T21:43:31.389+01:00  INFO 13536 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=5000.00),[]>
END OF REQUEST
2023-12-06T21:43:31.396+01:00  INFO 13536 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T21:43:31.398+01:00  INFO 13536 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T21:43:31.399+01:00  INFO 13536 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:06:31.607+01:00  INFO 14880 --- [main] c.e.b.c.AgreementControllerTest          : Starting AgreementControllerTest using Java 19.0.2 with PID 14880 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:06:31.608+01:00  INFO 14880 --- [main] c.e.b.c.AgreementControllerTest          : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:06:32.236+01:00  INFO 14880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:06:32.307+01:00  INFO 14880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2023-12-06T22:06:32.906+01:00  INFO 14880 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:06:32.985+01:00  INFO 14880 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:06:32.988+01:00  INFO 14880 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:06:33.179+01:00  INFO 14880 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:06:33.305+01:00  INFO 14880 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:06:33.319+01:00  INFO 14880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:06:33.563+01:00  INFO 14880 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:06:33.564+01:00  INFO 14880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:06:33.760+01:00  INFO 14880 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:06:34.248+01:00  INFO 14880 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:06:34.250+01:00  INFO 14880 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:06:34.854+01:00  INFO 14880 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:06:35.947+01:00  WARN 14880 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:06:36.185+01:00  INFO 14880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f64f47a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@548d9d87, org.springframework.security.web.context.SecurityContextHolderFilter@6232cde5, org.springframework.security.web.header.HeaderWriterFilter@7585531b, org.springframework.security.web.authentication.logout.LogoutFilter@18a66406, com.example.bankapp.security.Jwtfilter@557fe039, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e9b66ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@532b3244, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@da8853c, org.springframework.security.web.session.SessionManagementFilter@3c22a99a, org.springframework.security.web.access.ExceptionTranslationFilter@4ea8832c, org.springframework.security.web.access.intercept.AuthorizationFilter@2f8ede54]
2023-12-06T22:06:37.108+01:00  INFO 14880 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:06:37.109+01:00  INFO 14880 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:06:37.110+01:00  INFO 14880 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:06:37.142+01:00  INFO 14880 --- [main] c.e.b.c.AgreementControllerTest          : Started AgreementControllerTest in 5.841 seconds (process running for 6.781)
2023-12-06T22:06:37.682+01:00  INFO 14880 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:06:37.683+01:00  INFO 14880 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:06:37.716+01:00  INFO 14880 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=7f35ccd1-c5a1-4cfb-8e17-26ef7f03d7cb, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/7f35ccd1-c5a1-4cfb-8e17-26ef7f03d7cb"]>
END OF REQUEST
2023-12-06T22:06:37.742+01:00  INFO 14880 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:06:37.744+01:00  INFO 14880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:06:37.745+01:00  INFO 14880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:20:39.050+01:00  INFO 21380 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 21380 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:20:39.051+01:00  INFO 21380 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:20:39.925+01:00  INFO 21380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:20:40.005+01:00  INFO 21380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2023-12-06T22:20:40.789+01:00  INFO 21380 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:20:40.863+01:00  INFO 21380 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:20:40.866+01:00  INFO 21380 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:20:41.082+01:00  INFO 21380 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:20:41.265+01:00  INFO 21380 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:20:41.288+01:00  INFO 21380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:20:41.785+01:00  INFO 21380 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:20:41.787+01:00  INFO 21380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:20:42.131+01:00  INFO 21380 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:20:42.985+01:00  INFO 21380 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:20:42.988+01:00  INFO 21380 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:20:43.648+01:00  INFO 21380 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:20:44.964+01:00  WARN 21380 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:20:45.223+01:00  INFO 21380 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37a6eb47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d8d6cad, org.springframework.security.web.context.SecurityContextHolderFilter@64ff46e1, org.springframework.security.web.header.HeaderWriterFilter@1a79ce5, org.springframework.security.web.authentication.logout.LogoutFilter@2b57c338, com.example.bankapp.security.Jwtfilter@5275ba5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a7a034d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28566eda, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bf8eb4f, org.springframework.security.web.session.SessionManagementFilter@85c77fa, org.springframework.security.web.access.ExceptionTranslationFilter@116c5bfa, org.springframework.security.web.access.intercept.AuthorizationFilter@3a8a370]
2023-12-06T22:20:46.190+01:00  INFO 21380 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:20:46.190+01:00  INFO 21380 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:20:46.192+01:00  INFO 21380 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-12-06T22:20:46.213+01:00  INFO 21380 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 7.658 seconds (process running for 9.136)
2023-12-06T22:20:47.028+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T22:20:47.029+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T22:20:47.060+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=a8dac6b8-5d3f-42a4-95ec-5d54414101c8, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/a8dac6b8-5d3f-42a4-95ec-5d54414101c8"]>
END OF REQUEST
2023-12-06T22:20:47.148+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T22:20:47.149+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T22:20:47.179+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T22:20:47.197+01:00  INFO 21380 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:20:47.201+01:00  INFO 21380 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T22:20:47.244+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:20:47.245+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:20:47.261+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=a7b39e88-1ce6-4202-84d5-bafa1c5f57d9, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/a7b39e88-1ce6-4202-84d5-bafa1c5f57d9"]>
END OF REQUEST
2023-12-06T22:20:47.315+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T22:20:47.316+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T22:20:47.346+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=100000),[]>
END OF REQUEST
2023-12-06T22:20:47.360+01:00  INFO 21380 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:20:47.364+01:00  INFO 21380 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T22:20:47.395+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T22:20:47.396+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T22:20:47.439+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk4NTQ3fQ.W7tPqjZ1BLzaKDAzzu7zqQQUN-5wj3PQ7vs3B6zLsv8,[]>
END OF REQUEST
2023-12-06T22:20:47.481+01:00  INFO 21380 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:20:47.484+01:00  INFO 21380 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T22:20:47.521+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T22:20:47.522+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T22:20:47.525+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T22:20:47.537+01:00  INFO 21380 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:20:47.542+01:00  INFO 21380 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T22:20:47.573+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:20:47.573+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:20:47.584+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:20:47.587+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:20:47.587+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:20:47.593+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:20:47.599+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:20:47.600+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:20:47.611+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=3f49f47d-954b-49f5-8314-a9e7ad735e5b, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T22:20:47.6074947)
END OF REQUEST
2023-12-06T22:20:47.615+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:20:47.615+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:20:47.619+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:20:47.622+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:20:47.622+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:20:47.626+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:20:47.662+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T22:20:47.663+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T22:20:47.667+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T22:20:47.674+01:00  INFO 21380 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:20:47.678+01:00  INFO 21380 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T22:20:47.705+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:20:47.705+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:20:47.709+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T22:20:47.729+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T22:20:47.730+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T22:20:47.757+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T22:20:47.760+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:20:47.760+01:00  INFO 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:20:47.762+01:00 ERROR 21380 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T22:20:47.805+01:00  INFO 21380 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:20:47.925+01:00  INFO 21380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:20:47.927+01:00  INFO 21380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:21:02.035+01:00  INFO 11768 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 11768 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:21:02.037+01:00  INFO 11768 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:21:02.658+01:00  INFO 11768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:21:02.731+01:00  INFO 11768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 5 JPA repository interfaces.
2023-12-06T22:21:03.431+01:00  INFO 11768 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:21:03.539+01:00  INFO 11768 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:21:03.542+01:00  INFO 11768 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:21:03.778+01:00  INFO 11768 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:21:03.889+01:00  INFO 11768 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:21:03.905+01:00  INFO 11768 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:21:04.159+01:00  INFO 11768 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:21:04.160+01:00  INFO 11768 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:21:04.362+01:00  INFO 11768 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:21:04.896+01:00  INFO 11768 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:21:04.898+01:00  INFO 11768 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:21:05.470+01:00  INFO 11768 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:21:06.601+01:00  WARN 11768 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:21:06.830+01:00  INFO 11768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@718212ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70a9f4b7, org.springframework.security.web.context.SecurityContextHolderFilter@20c4be8d, org.springframework.security.web.header.HeaderWriterFilter@4eb34397, org.springframework.security.web.authentication.logout.LogoutFilter@4ef6177c, com.example.bankapp.security.Jwtfilter@2bfe398b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6af6a3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16ea56ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@488bf7cd, org.springframework.security.web.session.SessionManagementFilter@105d2c27, org.springframework.security.web.access.ExceptionTranslationFilter@3818609f, org.springframework.security.web.access.intercept.AuthorizationFilter@122557f8]
2023-12-06T22:21:07.759+01:00  INFO 11768 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:21:07.760+01:00  INFO 11768 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:21:07.761+01:00  INFO 11768 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:21:07.793+01:00  INFO 11768 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 6.054 seconds (process running for 7.15)
2023-12-06T22:21:08.346+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T22:21:08.346+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T22:21:08.368+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=1b0c5f6d-04bd-4c0f-ac3b-aaa893410bee, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/1b0c5f6d-04bd-4c0f-ac3b-aaa893410bee"]>
END OF REQUEST
2023-12-06T22:21:08.432+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T22:21:08.432+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T22:21:08.455+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T22:21:08.466+01:00  INFO 11768 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:21:08.469+01:00  INFO 11768 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T22:21:08.494+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:21:08.494+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:21:08.499+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T22:21:08.513+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T22:21:08.513+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T22:21:08.534+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T22:21:08.536+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:21:08.536+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:21:08.538+01:00 ERROR 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T22:21:08.552+01:00  INFO 11768 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:21:08.554+01:00  INFO 11768 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T22:21:08.582+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T22:21:08.583+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T22:21:08.585+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T22:21:08.593+01:00  INFO 11768 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:21:08.595+01:00  INFO 11768 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T22:21:08.619+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:21:08.620+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:21:08.626+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:21:08.628+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:21:08.629+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:21:08.632+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:21:08.636+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:21:08.637+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:21:08.652+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=5d31c88d-384b-4194-979d-d9418c8436ef, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T22:21:08.6436778)
END OF REQUEST
2023-12-06T22:21:08.656+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:21:08.656+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:21:08.659+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:21:08.662+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:21:08.662+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:21:08.665+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:21:08.690+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T22:21:08.690+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T22:21:08.693+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T22:21:08.698+01:00  INFO 11768 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:21:08.700+01:00  INFO 11768 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T22:21:08.717+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T22:21:08.717+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T22:21:08.741+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk4NTY4fQ.EsWCMo2E-z5BJAvoGjDu3-xXjB95YYTbG_C0eO2aE4I,[]>
END OF REQUEST
2023-12-06T22:21:08.759+01:00  INFO 11768 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:21:08.761+01:00  INFO 11768 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T22:21:08.788+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:21:08.788+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:21:08.795+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=c254e2af-9b83-41e0-bf71-02470138718c, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/c254e2af-9b83-41e0-bf71-02470138718c"]>
END OF REQUEST
2023-12-06T22:21:08.818+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T22:21:08.818+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T22:21:08.829+01:00  INFO 11768 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=100000),[]>
END OF REQUEST
2023-12-06T22:21:08.845+01:00  INFO 11768 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:21:08.849+01:00  INFO 11768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:21:08.850+01:00  INFO 11768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:22:01.577+01:00  INFO 6912 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 6912 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:22:01.579+01:00  INFO 6912 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:22:02.156+01:00  INFO 6912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:22:02.217+01:00  INFO 6912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2023-12-06T22:22:02.804+01:00  INFO 6912 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:22:02.867+01:00  INFO 6912 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:22:02.869+01:00  INFO 6912 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:22:03.017+01:00  INFO 6912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:22:03.129+01:00  INFO 6912 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:22:03.141+01:00  INFO 6912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:22:03.400+01:00  INFO 6912 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:22:03.401+01:00  INFO 6912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:22:03.602+01:00  INFO 6912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:22:04.106+01:00  INFO 6912 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:22:04.109+01:00  INFO 6912 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:22:04.721+01:00  INFO 6912 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:22:05.891+01:00  WARN 6912 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:22:06.143+01:00  INFO 6912 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@654322b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d9069ab, org.springframework.security.web.context.SecurityContextHolderFilter@69f35d31, org.springframework.security.web.header.HeaderWriterFilter@5680228, org.springframework.security.web.authentication.logout.LogoutFilter@7aafac17, com.example.bankapp.security.Jwtfilter@2aa176de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34788780, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7002dacc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@648ec9f4, org.springframework.security.web.session.SessionManagementFilter@300566e, org.springframework.security.web.access.ExceptionTranslationFilter@7d9587b3, org.springframework.security.web.access.intercept.AuthorizationFilter@58182d7]
2023-12-06T22:22:07.056+01:00  INFO 6912 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:22:07.056+01:00  INFO 6912 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:22:07.057+01:00  INFO 6912 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:22:07.086+01:00  INFO 6912 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 5.791 seconds (process running for 6.624)
2023-12-06T22:22:07.616+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T22:22:07.616+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T22:22:07.635+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=a027df9a-7721-4174-b4a3-7432906408fa, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/a027df9a-7721-4174-b4a3-7432906408fa"]>
END OF REQUEST
2023-12-06T22:22:07.694+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T22:22:07.694+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T22:22:07.714+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T22:22:07.723+01:00  INFO 6912 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:22:07.725+01:00  INFO 6912 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T22:22:07.749+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:22:07.749+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:22:07.754+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T22:22:07.766+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T22:22:07.767+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T22:22:07.783+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T22:22:07.785+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:22:07.785+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:22:07.786+01:00 ERROR 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T22:22:07.799+01:00  INFO 6912 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:22:07.802+01:00  INFO 6912 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T22:22:07.824+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T22:22:07.824+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T22:22:07.827+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T22:22:07.834+01:00  INFO 6912 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:22:07.837+01:00  INFO 6912 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T22:22:07.861+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:22:07.862+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:22:07.868+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:22:07.871+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:22:07.871+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:22:07.875+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:22:07.879+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:22:07.880+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:22:07.896+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=89cf1c68-452b-47d2-8845-5d9b96fc7f7f, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T22:22:07.8867683)
END OF REQUEST
2023-12-06T22:22:07.900+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:22:07.901+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:22:07.904+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:22:07.906+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:22:07.907+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:22:07.910+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:22:07.941+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T22:22:07.941+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T22:22:07.944+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T22:22:07.949+01:00  INFO 6912 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:22:07.951+01:00  INFO 6912 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T22:22:07.968+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T22:22:07.968+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T22:22:07.992+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk4NjI3fQ.mAzFXTILUZNgjA4H07BEAtm8LWtImOnfPs5kfzwfCu0,[]>
END OF REQUEST
2023-12-06T22:22:08.007+01:00  INFO 6912 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:22:08.009+01:00  INFO 6912 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T22:22:08.030+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:22:08.030+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:22:08.036+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=287ca0d3-ca1c-44b6-ae48-034fbe4b4158, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/287ca0d3-ca1c-44b6-ae48-034fbe4b4158"]>
END OF REQUEST
2023-12-06T22:22:08.055+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T22:22:08.056+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T22:22:08.066+01:00  INFO 6912 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=100000),[]>
END OF REQUEST
2023-12-06T22:22:08.073+01:00  INFO 6912 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:22:08.075+01:00  INFO 6912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:22:08.077+01:00  INFO 6912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:23:25.584+01:00  INFO 24652 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 24652 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:23:25.586+01:00  INFO 24652 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:23:26.617+01:00  INFO 24652 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:23:26.698+01:00  INFO 24652 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69 ms. Found 5 JPA repository interfaces.
2023-12-06T22:23:27.653+01:00  INFO 24652 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:23:27.736+01:00  INFO 24652 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:23:27.740+01:00  INFO 24652 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:23:27.931+01:00  INFO 24652 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:23:28.108+01:00  INFO 24652 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:23:28.130+01:00  INFO 24652 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:23:28.608+01:00  INFO 24652 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:23:28.610+01:00  INFO 24652 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:23:28.933+01:00  INFO 24652 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:23:29.665+01:00  INFO 24652 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:23:29.668+01:00  INFO 24652 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:23:30.316+01:00  INFO 24652 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:23:31.632+01:00  WARN 24652 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:23:31.898+01:00  INFO 24652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7269502a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@588c9938, org.springframework.security.web.context.SecurityContextHolderFilter@36136c04, org.springframework.security.web.header.HeaderWriterFilter@52327335, org.springframework.security.web.authentication.logout.LogoutFilter@2114325b, com.example.bankapp.security.Jwtfilter@1f881576, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56160a76, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@262d5fd8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b73e0b6, org.springframework.security.web.session.SessionManagementFilter@6550cebb, org.springframework.security.web.access.ExceptionTranslationFilter@34b4e70f, org.springframework.security.web.access.intercept.AuthorizationFilter@51ac6d1]
2023-12-06T22:23:32.832+01:00  INFO 24652 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:23:32.832+01:00  INFO 24652 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:23:32.833+01:00  INFO 24652 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:23:32.851+01:00  INFO 24652 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 7.777 seconds (process running for 9.289)
2023-12-06T22:23:33.592+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T22:23:33.593+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T22:23:33.623+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=32b03410-cf94-41dc-b76b-88fa358892d9, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/32b03410-cf94-41dc-b76b-88fa358892d9"]>
END OF REQUEST
2023-12-06T22:23:33.719+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T22:23:33.720+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T22:23:33.748+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T22:23:33.764+01:00  INFO 24652 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:23:33.768+01:00  INFO 24652 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T22:23:33.802+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:23:33.803+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:23:33.816+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=6f8cb9cb-7a31-412b-b17d-c9177720db2c, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/6f8cb9cb-7a31-412b-b17d-c9177720db2c"]>
END OF REQUEST
2023-12-06T22:23:33.857+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T22:23:33.857+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T22:23:33.887+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=100000),[]>
END OF REQUEST
2023-12-06T22:23:33.895+01:00  INFO 24652 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:23:33.897+01:00  INFO 24652 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T22:23:33.956+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T22:23:33.957+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T22:23:33.999+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk4NzEzfQ.2PCyFDTn_n0PbrCVRzIYaUjNzL9WGikUzuYXgl6q5lk,[]>
END OF REQUEST
2023-12-06T22:23:34.019+01:00  INFO 24652 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:23:34.022+01:00  INFO 24652 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T22:23:34.046+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T22:23:34.047+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T22:23:34.049+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T22:23:34.056+01:00  INFO 24652 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:23:34.058+01:00  INFO 24652 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T22:23:34.082+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:23:34.082+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:23:34.087+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:23:34.089+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:23:34.090+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:23:34.093+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:23:34.097+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:23:34.098+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:23:34.107+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=116abce3-7b86-47f5-af3a-888f8b6cdb61, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T22:23:34.1035483)
END OF REQUEST
2023-12-06T22:23:34.110+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:23:34.111+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:23:34.115+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:23:34.117+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:23:34.117+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:23:34.120+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:23:34.150+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T22:23:34.150+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T22:23:34.154+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T22:23:34.162+01:00  INFO 24652 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:23:34.165+01:00  INFO 24652 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T22:23:34.191+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:23:34.191+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:23:34.194+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T22:23:34.209+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T22:23:34.210+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T22:23:34.231+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T22:23:34.234+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:23:34.234+01:00  INFO 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:23:34.235+01:00 ERROR 24652 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T22:23:34.266+01:00  INFO 24652 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:23:34.384+01:00  INFO 24652 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:23:34.385+01:00  INFO 24652 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:31:02.759+01:00  INFO 116 --- [main] c.e.b.c.TransactionControllerTest        : Starting TransactionControllerTest using Java 19.0.2 with PID 116 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:31:02.760+01:00  INFO 116 --- [main] c.e.b.c.TransactionControllerTest        : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:31:03.391+01:00  INFO 116 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:31:03.464+01:00  INFO 116 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 5 JPA repository interfaces.
2023-12-06T22:31:04.063+01:00  INFO 116 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:31:04.128+01:00  INFO 116 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:31:04.130+01:00  INFO 116 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:31:04.275+01:00  INFO 116 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:31:04.389+01:00  INFO 116 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:31:04.402+01:00  INFO 116 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:31:04.629+01:00  INFO 116 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:31:04.631+01:00  INFO 116 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:31:04.826+01:00  INFO 116 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:31:05.326+01:00  INFO 116 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:31:05.328+01:00  INFO 116 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:31:05.932+01:00  INFO 116 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:31:06.972+01:00  WARN 116 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:31:07.188+01:00  INFO 116 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@635f4be1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@456d3914, org.springframework.security.web.context.SecurityContextHolderFilter@25bc36, org.springframework.security.web.header.HeaderWriterFilter@6d17cd8b, org.springframework.security.web.authentication.logout.LogoutFilter@5d28ac23, com.example.bankapp.security.Jwtfilter@121ec5c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f7a2a79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65f1bf2c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26a0068a, org.springframework.security.web.session.SessionManagementFilter@2265a052, org.springframework.security.web.access.ExceptionTranslationFilter@29617475, org.springframework.security.web.access.intercept.AuthorizationFilter@5967492a]
2023-12-06T22:31:08.143+01:00  INFO 116 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:31:08.144+01:00  INFO 116 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:31:08.145+01:00  INFO 116 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:31:08.170+01:00  INFO 116 --- [main] c.e.b.c.TransactionControllerTest        : Started TransactionControllerTest in 5.694 seconds (process running for 6.522)
2023-12-06T22:31:08.745+01:00  INFO 116 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:31:08.746+01:00  INFO 116 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:31:08.766+01:00 ERROR 116 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=10000000000000, description=for ice cream, createdAt=null)]. Not enough money
2023-12-06T22:31:08.807+01:00  INFO 116 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:31:08.809+01:00  INFO 116 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:31:08.810+01:00  INFO 116 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:32:58.199+01:00  INFO 12512 --- [main] c.e.b.c.TransactionControllerTest        : Starting TransactionControllerTest using Java 19.0.2 with PID 12512 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:32:58.201+01:00  INFO 12512 --- [main] c.e.b.c.TransactionControllerTest        : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:32:58.744+01:00  INFO 12512 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:32:58.806+01:00  INFO 12512 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2023-12-06T22:32:59.442+01:00  INFO 12512 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:32:59.521+01:00  INFO 12512 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:32:59.525+01:00  INFO 12512 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:32:59.697+01:00  INFO 12512 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:32:59.823+01:00  INFO 12512 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:32:59.837+01:00  INFO 12512 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:33:00.081+01:00  INFO 12512 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:33:00.082+01:00  INFO 12512 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:33:00.290+01:00  INFO 12512 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:33:00.785+01:00  INFO 12512 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:33:00.787+01:00  INFO 12512 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:33:01.403+01:00  INFO 12512 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:33:02.497+01:00  WARN 12512 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:33:02.691+01:00  INFO 12512 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a318745, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d44025b, org.springframework.security.web.context.SecurityContextHolderFilter@79c4c973, org.springframework.security.web.header.HeaderWriterFilter@fb79241, org.springframework.security.web.authentication.logout.LogoutFilter@135fb22d, com.example.bankapp.security.Jwtfilter@7d2ccd7f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2623ad23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e03b52f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fb8cfa7, org.springframework.security.web.session.SessionManagementFilter@71cdb24, org.springframework.security.web.access.ExceptionTranslationFilter@f64f47a, org.springframework.security.web.access.intercept.AuthorizationFilter@398f6622]
2023-12-06T22:33:03.537+01:00  INFO 12512 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:33:03.537+01:00  INFO 12512 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:33:03.538+01:00  INFO 12512 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:33:03.566+01:00  INFO 12512 --- [main] c.e.b.c.TransactionControllerTest        : Started TransactionControllerTest in 5.644 seconds (process running for 6.466)
2023-12-06T22:33:04.112+01:00  INFO 12512 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:33:04.113+01:00  INFO 12512 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:33:04.115+01:00 ERROR 12512 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=invalid_type, amount=100.00, description=for ice cream, createdAt=null)]. No enum constant com.example.bankapp.enums.TransactionType.INVALID_TYPE
2023-12-06T22:33:04.159+01:00  INFO 12512 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:33:04.160+01:00  INFO 12512 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:33:04.162+01:00  INFO 12512 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:33:36.000+01:00  INFO 2276 --- [main] c.e.b.c.TransactionControllerTest        : Starting TransactionControllerTest using Java 19.0.2 with PID 2276 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:33:36.001+01:00  INFO 2276 --- [main] c.e.b.c.TransactionControllerTest        : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:33:36.601+01:00  INFO 2276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:33:36.671+01:00  INFO 2276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2023-12-06T22:33:37.291+01:00  INFO 2276 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:33:37.363+01:00  INFO 2276 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:33:37.365+01:00  INFO 2276 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:33:37.525+01:00  INFO 2276 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:33:37.645+01:00  INFO 2276 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:33:37.659+01:00  INFO 2276 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:33:37.901+01:00  INFO 2276 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:33:37.902+01:00  INFO 2276 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:33:38.125+01:00  INFO 2276 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:33:38.644+01:00  INFO 2276 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:33:38.647+01:00  INFO 2276 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:33:39.320+01:00  INFO 2276 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:33:40.411+01:00  WARN 2276 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:33:40.642+01:00  INFO 2276 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2978d342, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dbf92aa, org.springframework.security.web.context.SecurityContextHolderFilter@71443983, org.springframework.security.web.header.HeaderWriterFilter@22e8f04c, org.springframework.security.web.authentication.logout.LogoutFilter@194feb27, com.example.bankapp.security.Jwtfilter@13056efe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ca46aaf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@701c092c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@122557f8, org.springframework.security.web.session.SessionManagementFilter@59a71bef, org.springframework.security.web.access.ExceptionTranslationFilter@5519ee60, org.springframework.security.web.access.intercept.AuthorizationFilter@340b7fca]
2023-12-06T22:33:41.616+01:00  INFO 2276 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:33:41.616+01:00  INFO 2276 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:33:41.617+01:00  INFO 2276 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:33:41.641+01:00  INFO 2276 --- [main] c.e.b.c.TransactionControllerTest        : Started TransactionControllerTest in 5.931 seconds (process running for 6.753)
2023-12-06T22:33:42.195+01:00  INFO 2276 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:33:42.196+01:00  INFO 2276 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:33:42.198+01:00 ERROR 2276 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=invalid_type, amount=100.00, description=for ice cream, createdAt=null)]. No enum constant com.example.bankapp.enums.TransactionType.INVALID_TYPE
2023-12-06T22:33:42.242+01:00  INFO 2276 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:33:42.244+01:00  INFO 2276 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:33:42.245+01:00  INFO 2276 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:34:08.479+01:00  INFO 16864 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 16864 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:34:08.481+01:00  INFO 16864 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:34:09.463+01:00  INFO 16864 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:34:09.552+01:00  INFO 16864 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 5 JPA repository interfaces.
2023-12-06T22:34:10.381+01:00  INFO 16864 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:34:10.465+01:00  INFO 16864 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:34:10.468+01:00  INFO 16864 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:34:10.667+01:00  INFO 16864 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:34:10.872+01:00  INFO 16864 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:34:10.898+01:00  INFO 16864 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:34:11.395+01:00  INFO 16864 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:34:11.397+01:00  INFO 16864 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:34:11.689+01:00  INFO 16864 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:34:12.576+01:00  INFO 16864 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:34:12.579+01:00  INFO 16864 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:34:13.276+01:00  INFO 16864 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:34:14.679+01:00  WARN 16864 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:34:14.969+01:00  INFO 16864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a6c7f73, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b67d7c7, org.springframework.security.web.context.SecurityContextHolderFilter@70b2109c, org.springframework.security.web.header.HeaderWriterFilter@1179db7a, org.springframework.security.web.authentication.logout.LogoutFilter@2f11b6f9, com.example.bankapp.security.Jwtfilter@8fb11c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e3feaa1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7cd7433a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f06c6c8, org.springframework.security.web.session.SessionManagementFilter@54d30bfd, org.springframework.security.web.access.ExceptionTranslationFilter@734c6928, org.springframework.security.web.access.intercept.AuthorizationFilter@689d9f1c]
2023-12-06T22:34:15.962+01:00  INFO 16864 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:34:15.962+01:00  INFO 16864 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:34:15.963+01:00  INFO 16864 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:34:15.981+01:00  INFO 16864 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 7.966 seconds (process running for 9.427)
2023-12-06T22:34:16.768+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T22:34:16.769+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T22:34:16.796+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=adb6e978-f6e1-43fb-90a6-f59b8750f5e1, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/adb6e978-f6e1-43fb-90a6-f59b8750f5e1"]>
END OF REQUEST
2023-12-06T22:34:16.883+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T22:34:16.884+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T22:34:16.931+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T22:34:16.947+01:00  INFO 16864 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:34:16.949+01:00  INFO 16864 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T22:34:16.991+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:34:16.992+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:34:17.008+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=25308cea-e52e-4c94-ad35-3f6dae742eaf, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/25308cea-e52e-4c94-ad35-3f6dae742eaf"]>
END OF REQUEST
2023-12-06T22:34:17.050+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T22:34:17.050+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T22:34:17.079+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=100000),[]>
END OF REQUEST
2023-12-06T22:34:17.087+01:00  INFO 16864 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:34:17.090+01:00  INFO 16864 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T22:34:17.122+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T22:34:17.123+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T22:34:17.174+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk5MzU3fQ.BOVrsP8kDpz0WN6nAf869gdNhCaFZh8Y8eWodTXBq70,[]>
END OF REQUEST
2023-12-06T22:34:17.194+01:00  INFO 16864 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:34:17.196+01:00  INFO 16864 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T22:34:17.233+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T22:34:17.233+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T22:34:17.236+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T22:34:17.246+01:00  INFO 16864 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:34:17.346+01:00  INFO 16864 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T22:34:17.370+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:34:17.371+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:34:17.376+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:34:17.378+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:34:17.378+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:34:17.381+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:34:17.385+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:34:17.385+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:34:17.393+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=be0198ff-5ad7-401b-b81b-6c1482fad46d, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T22:34:17.3899967)
END OF REQUEST
2023-12-06T22:34:17.395+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:34:17.396+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:34:17.400+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:34:17.402+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:34:17.403+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:34:17.406+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:34:17.435+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:34:17.436+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:34:17.438+01:00 ERROR 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=invalid_type, amount=100.00, description=for ice cream, createdAt=null)]. No enum constant com.example.bankapp.enums.TransactionType.INVALID_TYPE
2023-12-06T22:34:17.491+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:34:17.491+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:34:17.496+01:00 ERROR 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=10000000000000, description=for ice cream, createdAt=null)]. Not enough money
2023-12-06T22:34:17.537+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T22:34:17.537+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T22:34:17.541+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T22:34:17.549+01:00  INFO 16864 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:34:17.591+01:00  INFO 16864 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T22:34:17.619+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:34:17.620+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:34:17.622+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T22:34:17.641+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T22:34:17.641+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T22:34:17.670+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T22:34:17.673+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:34:17.673+01:00  INFO 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:34:17.674+01:00 ERROR 16864 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T22:34:17.691+01:00  INFO 16864 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:34:17.813+01:00  INFO 16864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:34:17.815+01:00  INFO 16864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:35:14.323+01:00  INFO 1752 --- [main] c.e.b.c.TransactionControllerTest        : Starting TransactionControllerTest using Java 19.0.2 with PID 1752 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:35:14.324+01:00  INFO 1752 --- [main] c.e.b.c.TransactionControllerTest        : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:35:14.932+01:00  INFO 1752 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:35:15.002+01:00  INFO 1752 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2023-12-06T22:35:15.606+01:00  INFO 1752 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:35:15.675+01:00  INFO 1752 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:35:15.677+01:00  INFO 1752 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:35:15.810+01:00  INFO 1752 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:35:15.950+01:00  INFO 1752 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:35:15.968+01:00  INFO 1752 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:35:16.208+01:00  INFO 1752 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:35:16.209+01:00  INFO 1752 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:35:16.401+01:00  INFO 1752 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:35:16.901+01:00  INFO 1752 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:35:16.903+01:00  INFO 1752 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:35:17.549+01:00  INFO 1752 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:35:18.630+01:00  WARN 1752 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:35:18.866+01:00  INFO 1752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@142f0ac1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1847da64, org.springframework.security.web.context.SecurityContextHolderFilter@4746b319, org.springframework.security.web.header.HeaderWriterFilter@6d66a248, org.springframework.security.web.authentication.logout.LogoutFilter@532b3244, com.example.bankapp.security.Jwtfilter@450b99f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@341c8f67, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72090715, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5967492a, org.springframework.security.web.session.SessionManagementFilter@2ca93dee, org.springframework.security.web.access.ExceptionTranslationFilter@5ac3d009, org.springframework.security.web.access.intercept.AuthorizationFilter@27acd9a7]
2023-12-06T22:35:19.776+01:00  INFO 1752 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:35:19.777+01:00  INFO 1752 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:35:19.778+01:00  INFO 1752 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:35:19.803+01:00  INFO 1752 --- [main] c.e.b.c.TransactionControllerTest        : Started TransactionControllerTest in 5.756 seconds (process running for 6.612)
2023-12-06T22:35:20.331+01:00  INFO 1752 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:35:20.331+01:00  INFO 1752 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:35:20.334+01:00 ERROR 1752 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=invalid_type, amount=100.00, description=for ice cream, createdAt=null)]. No enum constant com.example.bankapp.enums.TransactionType.INVALID_TYPE
2023-12-06T22:35:20.365+01:00  INFO 1752 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:35:20.367+01:00  INFO 1752 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:35:20.368+01:00  INFO 1752 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:37:32.844+01:00  INFO 2072 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 2072 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:37:32.851+01:00  INFO 2072 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:37:33.886+01:00  INFO 2072 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:37:33.970+01:00  INFO 2072 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 5 JPA repository interfaces.
2023-12-06T22:37:34.899+01:00  INFO 2072 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:37:34.996+01:00  INFO 2072 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:37:35.000+01:00  INFO 2072 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:37:35.218+01:00  INFO 2072 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:37:35.385+01:00  INFO 2072 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:37:35.407+01:00  INFO 2072 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:37:35.858+01:00  INFO 2072 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:37:35.861+01:00  INFO 2072 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:37:36.184+01:00  INFO 2072 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:37:36.956+01:00  INFO 2072 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:37:36.959+01:00  INFO 2072 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:37:37.630+01:00  INFO 2072 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:37:38.958+01:00  WARN 2072 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:37:39.210+01:00  INFO 2072 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7db3a6fa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33a8c302, org.springframework.security.web.context.SecurityContextHolderFilter@20e8611e, org.springframework.security.web.header.HeaderWriterFilter@6b8d06e5, org.springframework.security.web.authentication.logout.LogoutFilter@978b82, com.example.bankapp.security.Jwtfilter@8fb11c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@159de312, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35b1104, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5167982a, org.springframework.security.web.session.SessionManagementFilter@33b7016c, org.springframework.security.web.access.ExceptionTranslationFilter@5d9e150d, org.springframework.security.web.access.intercept.AuthorizationFilter@2ec182d]
2023-12-06T22:37:40.190+01:00  INFO 2072 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:37:40.190+01:00  INFO 2072 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:37:40.191+01:00  INFO 2072 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-12-06T22:37:40.210+01:00  INFO 2072 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 7.891 seconds (process running for 9.408)
2023-12-06T22:37:40.972+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T22:37:40.973+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T22:37:41.000+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=4d5033a7-8e29-4ff1-b4f5-f154f96caae5, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/4d5033a7-8e29-4ff1-b4f5-f154f96caae5"]>
END OF REQUEST
2023-12-06T22:37:41.085+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T22:37:41.086+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T22:37:41.114+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T22:37:41.130+01:00  INFO 2072 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:37:41.133+01:00  INFO 2072 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T22:37:41.175+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:37:41.176+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:37:41.190+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=4c640d1a-ed51-481e-9e7d-35f174cbdc30, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/4c640d1a-ed51-481e-9e7d-35f174cbdc30"]>
END OF REQUEST
2023-12-06T22:37:41.236+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T22:37:41.237+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T22:37:41.262+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=100000),[]>
END OF REQUEST
2023-12-06T22:37:41.269+01:00  INFO 2072 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:37:41.272+01:00  INFO 2072 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T22:37:41.300+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T22:37:41.301+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T22:37:41.338+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk5NTYxfQ.TpW4xsGaxCRAg_mY9SrvBcnpXkxH1uRZJEL1XA5qPz0,[]>
END OF REQUEST
2023-12-06T22:37:41.359+01:00  INFO 2072 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:37:41.361+01:00  INFO 2072 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T22:37:41.388+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T22:37:41.389+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T22:37:41.391+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T22:37:41.399+01:00  INFO 2072 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:37:41.402+01:00  INFO 2072 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T22:37:41.426+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:37:41.426+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:37:41.432+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:37:41.435+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:37:41.436+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:37:41.439+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:37:41.444+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:37:41.445+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:37:41.453+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=5c30ba16-71f6-453e-8f3d-8b6a282d9f9a, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T22:37:41.4490268)
END OF REQUEST
2023-12-06T22:37:41.457+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:37:41.457+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:37:41.460+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:37:41.462+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:37:41.462+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:37:41.465+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:37:41.487+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:37:41.487+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:37:41.489+01:00 ERROR 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=invalid_type, amount=100.00, description=for ice cream, createdAt=null)]. No enum constant com.example.bankapp.enums.TransactionType.INVALID_TYPE
2023-12-06T22:37:41.518+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:37:41.519+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:37:41.521+01:00 ERROR 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=10000000000000, description=for ice cream, createdAt=null)]. Not enough money
2023-12-06T22:37:41.557+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T22:37:41.557+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T22:37:41.562+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T22:37:41.568+01:00  INFO 2072 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:37:41.570+01:00  INFO 2072 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T22:37:41.591+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:37:41.592+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:37:41.594+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T22:37:41.608+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T22:37:41.608+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T22:37:41.630+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T22:37:41.632+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:37:41.632+01:00  INFO 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:37:41.634+01:00 ERROR 2072 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T22:37:41.648+01:00  INFO 2072 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:37:41.769+01:00  INFO 2072 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:37:41.771+01:00  INFO 2072 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-06T22:40:24.434+01:00  INFO 26628 --- [main] c.e.b.controller.AccountControllerTest   : Starting AccountControllerTest using Java 19.0.2 with PID 26628 (started by Professional in D:\Ksu\Tel-Ran 070223-m\Java\Prof\CHeat\ProjectBankAppV.2.0\BankApp)
2023-12-06T22:40:24.435+01:00  INFO 26628 --- [main] c.e.b.controller.AccountControllerTest   : No active profile set, falling back to 1 default profile: "default"
2023-12-06T22:40:25.394+01:00  INFO 26628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-06T22:40:25.479+01:00  INFO 26628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 5 JPA repository interfaces.
2023-12-06T22:40:26.274+01:00  INFO 26628 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-06T22:40:26.354+01:00  INFO 26628 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-12-06T22:40:26.357+01:00  INFO 26628 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-12-06T22:40:26.568+01:00  INFO 26628 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:40:26.737+01:00  INFO 26628 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-06T22:40:26.759+01:00  INFO 26628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-06T22:40:27.265+01:00  INFO 26628 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:./testdb user=SA
2023-12-06T22:40:27.267+01:00  INFO 26628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-06T22:40:27.572+01:00  INFO 26628 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-12-06T22:40:28.326+01:00  INFO 26628 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-06T22:40:28.329+01:00  INFO 26628 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:40:28.970+01:00  INFO 26628 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-06T22:40:30.281+01:00  WARN 26628 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-06T22:40:30.548+01:00  INFO 26628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27342c75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c68dc8e, org.springframework.security.web.context.SecurityContextHolderFilter@69275b11, org.springframework.security.web.header.HeaderWriterFilter@b5bf09a, org.springframework.security.web.authentication.logout.LogoutFilter@2b2a94a4, com.example.bankapp.security.Jwtfilter@1d0c0049, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76d55a3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a67a4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b12a5ed, org.springframework.security.web.session.SessionManagementFilter@1d59743c, org.springframework.security.web.access.ExceptionTranslationFilter@28566eda, org.springframework.security.web.access.intercept.AuthorizationFilter@3a73a5d3]
2023-12-06T22:40:31.466+01:00  INFO 26628 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-12-06T22:40:31.466+01:00  INFO 26628 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-12-06T22:40:31.467+01:00  INFO 26628 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-12-06T22:40:31.487+01:00  INFO 26628 --- [main] c.e.b.controller.AccountControllerTest   : Started AccountControllerTest in 7.489 seconds (process running for 8.897)
2023-12-06T22:40:32.242+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.createAccount
2023-12-06T22:40:32.242+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.createAccount
2023-12-06T22:40:32.269+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AccountDto(id=01e77cbc-5653-4c81-b936-a5cc748c43c0, name=Alisia Smith, type=TRAVEL, status=NEW, balance=20000, currencyCode=EUR, productName=null, ownerFullName=Amisha Smith),[Location:"/01e77cbc-5653-4c81-b936-a5cc748c43c0"]>
END OF REQUEST
2023-12-06T22:40:32.354+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/get-by-productName
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getByProductName
2023-12-06T22:40:32.354+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getByProductName
2023-12-06T22:40:32.381+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)]
END OF REQUEST
2023-12-06T22:40:32.403+01:00  INFO 26628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:40:32.406+01:00  INFO 26628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AgreementControllerTest
2023-12-06T22:40:32.443+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.createAgreement
2023-12-06T22:40:32.443+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.createAgreement
2023-12-06T22:40:32.457+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <201 CREATED Created,AgreementDto(id=8db36d39-2471-4636-8c67-253a45fe3492, accountId=2442b573-307c-4f39-994e-5bb359745cba, productId=1, managerId=5507c281-154a-4dd1-ba8e-6b32ff4676d0, interestRate=3.5000, status=ACTIVE, sum=100000),[Location:"/8db36d39-2471-4636-8c67-253a45fe3492"]>
END OF REQUEST
2023-12-06T22:40:32.486+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreement/6cf469b4-a094-47c2-bfd2-3c3bf4742436
HTTP_METHOD : PUT
CONTROLLER_METHOD : com.example.bankapp.controller.AgreementController.updateAgreementById
2023-12-06T22:40:32.487+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AgreementServiceImpl.updateById
2023-12-06T22:40:32.509+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,AgreementDto(id=6cf469b4-a094-47c2-bfd2-3c3bf4742436, accountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, productId=1, managerId=4ede8454-d2ab-4143-a0e2-4f196ec25dbd, interestRate=3.5000, status=SUSPENDED, sum=100000),[]>
END OF REQUEST
2023-12-06T22:40:32.516+01:00  INFO 26628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:40:32.518+01:00  INFO 26628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.AuthControllerTest
2023-12-06T22:40:32.548+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/auth
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.AuthController.auth
2023-12-06T22:40:32.548+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.findByEmailAndPassword
2023-12-06T22:40:32.607+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: <200 OK OK,eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzAxODk5NzMyfQ._gkdGlO1zUIciLr3zfhIyVQ6_WEcTfQKaNw55-NXrBE,[]>
END OF REQUEST
2023-12-06T22:40:32.630+01:00  INFO 26628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:40:32.634+01:00  INFO 26628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.ProductControllerTest
2023-12-06T22:40:32.660+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/product/1
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.ProductController.getProductById
2023-12-06T22:40:32.661+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.ProductServiceImpl.getById
2023-12-06T22:40:32.663+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: ProductDto(id=1, name=Mortgage, status=ACTIVE, currencyCode=USD, interestRate=3.5000, minLimit=100000)
END OF REQUEST
2023-12-06T22:40:32.670+01:00  INFO 26628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:40:32.672+01:00  INFO 26628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.TransactionControllerTest
2023-12-06T22:40:32.698+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:40:32.698+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:40:32.704+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:40:32.706+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:40:32.706+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:40:32.709+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=5000.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:40:32.713+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:40:32.714+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:40:32.722+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: TransactionDto(id=2376564f-539b-45a6-9d75-21bbeac279f6, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=100.00, description=for ice cream, createdAt=2023-12-06T22:40:32.7181266)
END OF REQUEST
2023-12-06T22:40:32.725+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/a16b4e7d-8a29-4327-b79c-4f6b21410d12
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:40:32.725+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:40:32.729+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=a16b4e7d-8a29-4327-b79c-4f6b21410d12, name=Debit Account, type=TRAVEL, status=ACTIVE, balance=5100.00, currencyCode=USD, productName=Mortgage, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:40:32.731+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/account/2442b573-307c-4f39-994e-5bb359745cba
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.AccountController.getAccountById
2023-12-06T22:40:32.731+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.AccountServiceImpl.getById
2023-12-06T22:40:32.734+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: AccountDto(id=2442b573-307c-4f39-994e-5bb359745cba, name=Savings Account, type=TRAVEL, status=ACTIVE, balance=4900.00, currencyCode=USD, productName=null, ownerFullName=Amisha Smith)
END OF REQUEST
2023-12-06T22:40:32.762+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:40:32.763+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:40:32.765+01:00 ERROR 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=invalid_type, amount=100.00, description=for ice cream, createdAt=null)]. No enum constant com.example.bankapp.enums.TransactionType.INVALID_TYPE
2023-12-06T22:40:32.802+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/create
HTTP_METHOD : POST
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.createTransaction
2023-12-06T22:40:32.802+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.createTransaction
2023-12-06T22:40:32.806+01:00 ERROR 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [TransactionDto(id=null, debitAccountId=2442b573-307c-4f39-994e-5bb359745cba, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=PURCHASE, amount=10000000000000, description=for ice cream, createdAt=null)]. Not enough money
2023-12-06T22:40:32.847+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/transaction/by-type
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.TransactionController.getTransactionByType
2023-12-06T22:40:32.848+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.TransactionServiceImpl.getTransactionByType
2023-12-06T22:40:32.851+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: [TransactionDto(id=01fd4094-d09a-473d-a389-728abda7d813, debitAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, creditAccountId=a16b4e7d-8a29-4327-b79c-4f6b21410d12, type=TRANSFER, amount=500.0000, description=Transfer from Savings to Checking, createdAt=2023-09-17T12:00:00)]
END OF REQUEST
2023-12-06T22:40:32.857+01:00  INFO 26628 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.bankapp.controller.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-12-06T22:40:32.859+01:00  INFO 26628 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.BankAppApplication for test class com.example.bankapp.controller.UserControllerTest
2023-12-06T22:40:32.881+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:40:32.881+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:40:32.883+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: UserDto(email=john@example.com, password=null, id=5507c281-154a-4dd1-ba8e-6b32ff4676d0, status=NEW, taxCode=1234567890, firstName=John, lastName=Jackson, address=163 Main St, phone=555-123-4567, role=MANAGER)
END OF REQUEST
2023-12-06T22:40:32.897+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : DELETE
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.deleteUserById
2023-12-06T22:40:32.897+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.deleteById
2023-12-06T22:40:32.918+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : 
Return value: null
END OF REQUEST
2023-12-06T22:40:32.920+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/user/5507c281-154a-4dd1-ba8e-6b32ff4676d0
HTTP_METHOD : GET
CONTROLLER_METHOD : com.example.bankapp.controller.UserController.getUserById
2023-12-06T22:40:32.920+01:00  INFO 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : RUN SERVICE:
SERVICE_METHOD : com.example.bankapp.service.impl.UserServiceImpl.getUserById
2023-12-06T22:40:32.921+01:00 ERROR 26628 --- [main] c.example.bankapp.aspect.LoggingAspect   : Request throw an exception. Cause - [5507c281-154a-4dd1-ba8e-6b32ff4676d0]. There's no User with this id
2023-12-06T22:40:32.936+01:00  INFO 26628 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-06T22:40:33.061+01:00  INFO 26628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-06T22:40:33.062+01:00  INFO 26628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
